@page "{Id:Guid}"
@inject Microsoft.Extensions.Options.IOptions<dotnet_razor_blog.Models.RecaptchaSettings> RecaptchaSettings

@model dotnet_razor_blog.Pages.Admin.BlogPosts.EditModel
@{
    ViewData["Title"] = "Edit a blog post";
}
@if (!ViewData.ModelState.IsValid)
{
    <div class="alert alert-danger">Please resolve the reCAPTCHA challenge.</div>
}


<script src="https://www.google.com/recaptcha/api.js" async defer></script>
<script>
    // JavaScript function to enable the submit button
    function enableSubmitButton() {
        document.getElementById('submit-button').disabled = false;
    }
</script>
<div class="bg-secondary bg-opacity-10 py-2">
    <div class="container">
        <h1>Edit a blog post</h1>
    </div>
</div>
<div>
    <div class="container">
       <form  method="post">
            <div class="g-recaptcha" data-sitekey="@RecaptchaSettings.Value.SiteKey" data-callback="enableSubmitButton"></div>

            <div class="mb-3">
                <label for="id" class="form-label">Id</label>
                <input type="text" readonly class="form-control" id="id" asp-for="BlogPost.Id">
            </div>          
           
            <div class="mb-3">
                <label for="heading" class="form-label">Heading</label>
                <input type="text" class="form-control" id="heading" asp-for="BlogPost.Heading">
            </div>

            <div class="mb-3">
                <label for="pageTitle" class="form-label">Page Title</label>
                <input type="text" class="form-control" id="pageTitle" asp-for="BlogPost.PageTitle">
            </div>

            <div class="mb-3">
                <label for="content" class="form-label">Content</label>
                <textarea class="form-control" id="content" asp-for="BlogPost.Content"></textarea>
            </div>

            <div class="mb-3">
                <label for="shortDescription" class="form-label">Short Description</label>
                <input type="text" class="form-control"  id="shortDescription" asp-for="BlogPost.ShortDescription">
            </div>

            <div class="mb-3">
                <label for="featuredImageUrl" class="form-label">Featured Image Url</label>
                <input type="text" class="form-control" id="featuredImageUrl" asp-for="BlogPost.FeaturedImageUrl">
            </div>

            <div class="mb-3">
                <label for="urlHandle" class="form-label">Url Handle</label>
                <input type="text" class="form-control" id="urlHandle" asp-for="BlogPost.UrlHandle">
            </div>

            <div class="mb-3">
                <label for="publishedDate" class="form-label">Published Date</label>
                <input type="date" class="form-control" id="publishedDate" asp-for="BlogPost.PublishedDate">
            </div>

            <div class="mb-3">
                <label for="author" class="form-label">Author</label>
                <input type="text" class="form-control" id="author" asp-for="BlogPost.Author">
            </div>

            <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" id="isVisible" asp-for="BlogPost.Visible">
                <label class="form-check-label" for="isVisible">Is Visible</label>
            </div>

            <button type="submit" id="submit-button" class="btn btn-primary" disabled>Submit</button>
        </form>
    </div>
</div>